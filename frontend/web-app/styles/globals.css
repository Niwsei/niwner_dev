/* Design tokens */
:root {
  /* Surfaces */
  --bg: #0b0d12;
  --panel: #111522;
  --panel-2: #0e1422;
  --elevate: rgba(255,255,255,0.04);
  /* Text */
  --text: #e7ecf3;
  --muted: #9aa3b2;
  /* Brand */
  --primary: #6ea8fe;
  --primary-900: #2f5aa5;
  --accent: #7ee787;
  /* Feedback */
  --danger: #ff7b72;
  --warning: #f2cc60;
  --success: #3fb950;
  /* Borders/lines */
  --border: #232a3a;
  /* Elevation */
  --shadow-sm: 0 1px 2px rgba(0,0,0,.25);
  --shadow-md: 0 8px 24px rgba(0,0,0,.35);
  --shadow-lg: 0 16px 44px rgba(0,0,0,.45);
  /* Radii */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  /* Spacing */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  /* Typography */
  --font-sans: var(--font-body, ui-sans-serif), system-ui, -apple-system, Segoe UI, Roboto, Noto Sans Thai, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --leading: 1.6;
  --tracking: 0.01em;
}

[data-theme='light'] {
  --bg: #ffffff;
  --panel: #f8fafc;
  --panel-2: #f1f5f9;
  --elevate: rgba(0,0,0,0.04);
  --text: #0f172a;
  --muted: #475569;
  --primary: #2563eb;
  --primary-900: #1e3a8a;
  --accent: #16a34a;
  --danger: #dc2626;
  --warning: #d97706;
  --success: #16a34a;
  --border: #e2e8f0;
}

/* Base */
* { box-sizing: border-box; }
html, body, #__next { height: 100%; }
body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-sans);
  line-height: var(--leading);
  letter-spacing: var(--tracking);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Fluid type scale */
h1 { font-size: clamp(28px, 3.2vw, 40px); }
h2 { font-size: clamp(22px, 2.4vw, 28px); }
h3 { font-size: clamp(18px, 1.8vw, 22px); }
p { line-height: var(--leading); }
a { color: inherit; text-decoration: none; text-underline-offset: 3px; }
a:hover { text-decoration: underline; }

.container { max-width: min(1280px, 92vw); margin: 0 auto; padding: var(--space-4); }
.row { display: flex; flex-wrap: wrap; gap: var(--space-4); }

/* Surfaces */
.panel { background: linear-gradient(180deg, var(--panel), var(--panel-2)); border: 1px solid var(--border); border-radius: var(--radius-md); }
.card { composes: panel; padding: var(--space-4); transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease; }
.card:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); border-color: rgba(255,255,255,0.08); }
.card.elevated { box-shadow: var(--shadow-lg); }
.card.glass { background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); backdrop-filter: blur(8px); }

/* Buttons */
.btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; border: 1px solid transparent; border-radius: var(--radius-md); padding: 10px 14px; font-weight: 600; cursor: pointer; transition: transform .05s ease, background .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease; }
.btn:active { transform: translateY(1px); }
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn-primary { background: var(--primary); color: #fff; box-shadow: 0 6px 20px rgba(37, 99, 235, .25); }
.btn-ghost { background: transparent; color: var(--text); border-color: var(--border); }
.btn-danger { background: var(--danger); color: #fff; }
.btn-outline { background: transparent; color: var(--text); border-color: currentColor; }
.btn-link { background: transparent; color: var(--primary); border-color: transparent; padding: 0; }
.btn-sm { padding: 6px 10px; border-radius: var(--radius-sm); font-size: 14px; }
.btn-lg { padding: 14px 18px; border-radius: var(--radius-lg); font-size: 16px; }
.btn:focus-visible { outline: none; box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 40%, transparent); }
.btn:hover { filter: brightness(1.05); }

/* Inputs */
.input { width: 100%; padding: 10px 12px; border-radius: var(--radius-md); background: linear-gradient(180deg, var(--panel), var(--panel-2)); border: 1px solid var(--border); color: var(--text); transition: border-color .2s ease, box-shadow .2s ease, background .2s ease; }
.input::placeholder { color: color-mix(in srgb, var(--muted) 80%, transparent); }
.input:focus-visible { outline: none; border-color: color-mix(in srgb, var(--primary) 60%, var(--border)); box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 25%, transparent); }
.input.invalid { border-color: var(--danger); box-shadow: 0 0 0 3px color-mix(in srgb, var(--danger) 25%, transparent); }

/* Grid */
.grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: var(--space-4); }
.col-3 { grid-column: span 3; }
.col-4 { grid-column: span 4; }
.col-6 { grid-column: span 6; }
.col-12 { grid-column: span 12; }
@media (max-width: 900px) { .col-3, .col-4, .col-6 { grid-column: span 12; } }

/* Text helpers */
.muted { color: var(--muted); }
.text-gradient { background: linear-gradient(90deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; color: transparent; }

/* Badges, progress */
.badge { display: inline-block; border: 1px solid var(--border); border-radius: 999px; padding: 2px 8px; font-size: 12px; background: var(--elevate); }
.progress { width: 100%; height: 8px; background: #1b2335; border-radius: 999px; overflow: hidden; border: 1px solid var(--border); }
.progress > span { display: block; height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); }

/* Tables */
table { width: 100%; border-collapse: collapse; }
thead tr { border-bottom: 1px solid var(--border); }
tbody tr:hover { background: rgba(255,255,255,0.03); }
th, td { padding: 10px 8px; text-align: left; }

/* Layout */
.layout { display: grid; grid-template-columns: 280px 1fr; gap: var(--space-4); }
@media (max-width: 980px) { .layout { grid-template-columns: 1fr; } }

/* Navigation */
.nav { position: sticky; top: 0; z-index: 20; border-bottom: 1px solid var(--border); background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.2)); backdrop-filter: saturate(150%) blur(10px); }
.nav-inner { display: flex; align-items: center; justify-content: space-between; padding: 10px 16px; gap: var(--space-2); }
.nav a { margin-right: 12px; color: var(--muted); transition: color .2s ease; }
.nav a.active { color: var(--text); }

.sidebar { width: 240px; padding: var(--space-4); border-right: 1px solid var(--border); }
.main { min-height: calc(100vh - 50px); display: flex; }
.content { flex: 1; padding: var(--space-4); }

/* Skeleton */
.skeleton { background: linear-gradient(90deg, #111827, #0f1628, #111827); animation: shimmer 1.4s infinite; border: 1px solid var(--border); }
@keyframes shimmer { 0% { background-position: -200px 0; } 100% { background-position: calc(200px + 100%) 0; } }

/* Responsive helpers */
.hide-sm { display: block; }
@media (max-width: 820px) { .hide-sm { display: none; } }

/* Small-only helper */
.show-sm { display: none; }
@media (max-width: 820px) { .show-sm { display: block; } }

/* Motion respect */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation: none !important; transition: none !important; }
}
